<!DOCTYPE html>
<html lang="en">
    
<%- include('../partials/head') %>

<body>
    <!-- Header-->
    <%- include("../partials/header") %>
    <section> 
        <label><h3 id="title">MODIFICAR DATOS DE USUARIO</h3></label>
        <form action="/users/profile/<%=userToEdit.id%>?_method=PUT" class="rg-form" method="POST" enctype="multipart/form-data" id="formRegister">
            <div>
                <label><b>Nombre</b></label>
                <br>
                <input 
                type="text" name="name" id="name" class="rg-input <%= locals.errors && errors.name ? 'is-invalid' : null %>" value="<%=userToEdit.name%>">
                <% if (locals.errors && errors.name) { %>
                    <div class="text-danger" id="msgFront_name">
                        <%= errors.name.msg %> 
                    </div>
                <% }else{%>
                    <div class="text-danger" id="msgFront_name"></div>
                <%}%>
            </div>
            <div>
                <label><b>Apellido</b></label>
                <br>
                <input 
                    type="text" name="lastName" id="lastName" class="rg-input <%= locals.errors && errors.lastName ? 'is-invalid' : null %>" value="<%= userToEdit.lastName  %>">
                    <% if (locals.errors && errors.lastName) { %>
                        <div class="text-danger" id="msgFront_lastName">
                            <%= errors.lastName.msg %> 
                        </div>
                    <% }else{%>
                        <div class="text-danger" id="msgFront_lastName"></div>
                    <%}%>
            </div>
            <div>
            <label><b>Email</b></label>
            <br>
            <input type="text" name="email" id="email" class="rg-input" <%= locals.errors && errors.email ? 'is-invalid' : null %>" value="<%= userToEdit.email  %>">
                <% if (locals.errors && errors.email) { %>
                    <div class="text-danger" id="msgFront_email">
                        <%= errors.email.msg %> 
                    </div>
                <% }else{%>
                    <div class="text-danger" id="msgFront_email"></div>
                <%}%>                    
           </div>
           <div>
            <label><b>Direcci√≥n</b></label>
            <br>
            <input type="text" name="address" id="address" class="rg-input" <%= locals.errors && errors.address ? 'is-invalid' : null %>" value="<%= userToEdit.address%>">
                <% if (locals.errors && errors.address) { %>
                    <div class="text-danger" id="msgFront_address">
                        <%= errors.address.msg %> 
                    </div>
                <% }else{%>
                    <div class="text-danger" id="msgFront_address"></div>
                <% } %>
            </div>
            <div>
                <label><b>Fecha de nacimiento</b></label>
                <br>
                <input type="date" name="birthDate" id="birthDate" class="rg-input" <%= locals.errors && errors.birthDate ? 'is-invalid' : null %>"
                    value="<%= userToEdit.birthDate  %>">
                    <% if (locals.errors && errors.birthDate) { %>
                        <div class="text-danger" id="msgFront_birthDate">
                            <%= errors.birthDate.msg %> 
                        </div>
                    <% }else{%>
                        <div class="text-danger" id="msgFront_birthDate"></div>
                    <% } %>
            </div>             
            <div>
                <div >
                    <label><b>Imagen de perfil (opcional)</b></label>
                    <img src="<%= userToEdit.avatar%>" class="rg-img-profile" id="imageProfile" alt="">
                    <input type="button" id="avatar" class="rg-btn-avatar" value="Seleccionar Imagen">
                    <input type="hidden" name="oldAvatar" id="hiddenAvatar" value="<%= userToEdit.avatar%>">
                    <br>           
                </div>
            </div>
        
            <div class="rg-btn-div rg-input" >
                <input type="submit" name="" id="rg-submit" class="rg-submit" value="Modificar">
                <input type="reset" class="rg-reset" value="Deshacer" >                
                <button type="submit" class="pd-add " >
                    <a href="#" class=" " > Password</a>
                </button>
            </div>            
        </form> 
        <form action="/users/profile/<%=userToEdit.id%>?_method=DELETE" class="rg-form" method="POST">
            <div class="pd-add">
                <input type="submit" class=" " value="Borrar Perfil">
            </div>
            
        </form>        
    </section>
    <!-- Footer-->
    <%- include("../partials/footer") %>  
    <script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>
    <script src="/Js/widgetCloudinaryUsers.js"></script>
    <script src="/js/registerFront.js"></script>    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
    <script moment().format()></script>
</body>
</html>